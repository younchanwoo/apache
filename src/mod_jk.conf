#
# HTTPD Web Server and Apache Tomcat(ajp) Connector
# the configuration of the server.
#
# Required modules: mod_jk (for the ajp handler),
# 1.
# Load Module jk_module
<IfModule !mod_jk.c>
    LoadModule jk_module modules/mod_jk.so
</IfModule>
# 2.
# jk_module Global configuration of the server
<IfModule mod_jk.c>
    JkWatchdogInterval 60
    JkWorkersFile conf/extra/workers.properties
#    JkLogFile /web/apache24/logs/modjk-log/mod_jk.log
    JkLogFile "|/web/apache24/bin/rotatelogs /web/apache24/logs/modjk-log/mod-jk.log.%Y%m%d 86400"  
    JkLogLevel info
    JkLogStampFormat "[%Y %a %b %d %H:%M:%S]"
    JKRequestLogFormat "%s %w %R %V %T %r"
    JkOptions +ForwardKeySize +ForwardURICompatUnparsed -ForwardDirectories
#    JkMountFile conf/extra/uriworkermap.properties
    JkShmFile /web/apache24/logs/modjk-log/mod-jk.shm
   #JkMountCopy All
</IfModule>
# 3.
# Allow jk Connector server status reports generated by jkstatus,
# with the URL of http://servername/jkstatus
# Change the "127.0.0.1" to match your domain to enable.
#<Location /jkstatus>
#    jkmount jkstatus
#    Order deny,allow
#    Deny from all
#    Allow from 127.0.0.1
#</Location>
